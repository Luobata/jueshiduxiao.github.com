<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>跨域传输数据</title>
    <script src="messager.js"></script>
</head>
<body>
    <button id="button">post</button>
    <iframe id="frame" src="http://backtonaturedemo.github.io/frontend/case/iframe/messager/b.html"></iframe>
   <script>
        var frame = document.getElementById("frame");
        var messager = new Messager("changyan", frame.contentWindow, 'parent');
        messager.listen(function(msg){
            alert('I am a'+ msg);
        });
        var data2 = 'data from a';
        document.getElementById('button').onclick = function () {
            messager.post(data2, 'frame');
				for( var x in parent.navigator.listenFunc) {
			//alert(x);
		}
        };
    </script>
</body>
</html>