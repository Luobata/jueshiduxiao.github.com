<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0,user-scalable=no,minimum-scale=1.0, maximum-scale=1.0,width=device-width">
    <title>畅言-wap</title>
    <style type="text/css">
        html, body {
            margin: 0;
            font-size: 12px;
        }
        .wrapper {
            border-bottom: solid 1px #cccccc;
            margin: 30px 0;
        }
        .wrapper .item {
            padding: 10px;
            border-top: solid 1px #cccccc;
        }
        .wrapper .item .row1 {
            display: inline-block;
            width: 180px;
        }
    </style>
</head>
<body>

<div id="wrapper" class="wrapper">
</div>
    
<div id="SOHUCS" sid="yemianzai-changyan-0001"></div>
<script>
var timer = {
    sid: function (key) {
        this['t-' + key] = +new Date();
    },
    log: function (name, k1, k2) {
        var ts = this['t-' + k1] - this['t-' + k2];

        var html = '\
            <div class="item">\
                <span class="row1">' + name + '</span>\
                <span>' + ts + 'ms</span>\
            </div>\
        ';
        
        var el = document.createElement('div');
        el.innerHTML = html;
        document.getElementById('wrapper').appendChild(el);
    }
};
timer.sid('START');
window.changyanWapDebugFn = function (events) {
    events.on('CUSTOM_EVT_TOPIC_LOAD', function (data) {
        timer.sid('TOPIC_LOAD');
        timer.log('数据载入', 'TOPIC_LOAD', 'START');
    });
    events.on('CUSTOM_EVT_CBOX_RENDER', function (data) {
        timer.sid('CBOX_RENDER');
        timer.log('评论框渲染', 'CBOX_RENDER', 'START');
    });
    events.on('CUSTOM_EVT_COMMENTS_LIST_RENDER', function (data) {
        timer.sid('COMMENTS_LIST_RENDER');
        timer.log('评论列表渲染', 'COMMENTS_LIST_RENDER', 'START');
    });
};
(function(){
    var expire_time = parseInt((new Date()).getTime()/(5*60*1000));
    var head = document.head || document.getElementsByTagName("head")[0] || document.documentElement;
    var script_version = document.createElement("script"),
        script_cyan = document.createElement("script");
    script_version.type = script_cyan.type = "text/javascript";
    script_version.charset = script_cyan.charset = "utf-8";
    script_version.onload = function(){
        script_cyan.id = 'changyan_mobile_js';
        script_cyan.src = 'http://changyan.itc.cn/upload/mobile/wap-js/changyan_mobile.js?client_id=cyrkKYELy&'
                        + 'conf=prod_14a44184e153225aac09c814509d1426&version=' + cyan_resource_version;
        head.insertBefore(script_cyan, head.firstChild);
    };
    script_version.src = 'http://changyan.sohu.com/upload/mobile/wap-js/version.js?_='+expire_time;
    head.insertBefore(script_version, head.firstChild);
})();
</script>

</body>
</html>
